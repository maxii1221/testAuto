# Test info

- Name: Banderas
- Location: /home/maxii1221/testAuto/tests/LAB Network/NWAdmin/administracion/banderas.spec.ts:5:5

# Error details

```
TimeoutError: locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for getByRole('link', { name: 'Banderas', exact: true })
    - waiting for" https://console.ationet.com/" navigation to finish...
    - navigated to "https://sts.ationet.com/connect/authorize?client_id=Ationet&redirect_uri=https%3a%2f%2fconsole.ationet.com%2f&response_mode=form_post&response_type=code+id_token&scope=openid+profile+email+offline_ac…"
    - waiting for" https://console.ationet.com/" navigation to finish...
    - navigated to "https://console.ationet.com/"

    at body (/home/maxii1221/testAuto/tests/LAB Network/NWAdmin/administracion/banderas.spec.ts:84:77)
    at body (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:113:48)
    at call (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:13:56)
    at tryCatch (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator._invoke (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator.next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at asyncGeneratorStep (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at _next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at call (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:13:23)
    at tryCatch (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator._invoke (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator.next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at asyncGeneratorStep (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at _next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at AllurePlaywrightTestRuntime.apply (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at AllurePlaywrightTestRuntime.step (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:14:4)
    at callRuntimeMethod (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:21:27)
    at Object.step (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:113:10)
    at Object.step (/home/maxii1221/testAuto/node_modules/allure-playwright/src/legacy.ts:147:48)
    at /home/maxii1221/testAuto/tests/LAB Network/NWAdmin/administracion/banderas.spec.ts:83:22
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { allure } from 'allure-playwright';
   3 |
   4 |
   5 | test('Banderas', async ({ page }, testInfo) => {
   6 |     //varibles:
   7 |     const urlBETA = testInfo.project.use?.baseURL; 
   8 |
   9 |     // Allure metadata
   10 |
   11 |     //esto aparece en suite para ordenar mejor
   12 |     allure.suite('NWAdmin');
   13 |     allure.subSuite('Administracion');
   14 |
   15 |     //usuario que ejecuto la automatizacion
   16 |     allure.owner('Maximiliano');
   17 |     allure.tag('regression');
   18 |
   19 |     //label para funcionalidades allure
   20 |     allure.label('epic', 'NWAdmin - Administracion');
   21 |     allure.label('feature', 'Banderas');
   22 |     allure.story('Navegar, crear y Editar');
   23 |
   24 |     //dentro del test cuando lo abrimos aparece la descripcion
   25 |     allure.description(`
   26 |     Objetivo: Este test automatiza el proceso de navegacion, creacion y edicion de banderas.
   27 |     `);
   28 |     allure.severity('critical'); // opciones: blocker | critical | normal | minor | trivial      
   29 |
   30 |     // Generar un valor aleatorio para cada campo
   31 |     const randomId = Math.floor(Math.random() * 1000000);
   32 |     const banderaName = `bandera automatica${randomId}`
   33 |     const banderaFuelName = `00000${randomId}`;
   34 |     
   35 |     await allure.step('Navegar y acceder a Banderas', async () => {
   36 |
   37 |         await allure.step('Acceder a la url de login', async () => {
   38 |             await page.goto(urlBETA!);
   39 |         });
   40 |
   41 |         await allure.step('Hacer click en input nombre de usuario', async () => {
   42 |             await page.locator('#UserName').click();
   43 |         });
   44 |
   45 |         await allure.step('Escribir en input nombre de usuario', async () => {
   46 |             await page.locator('#UserName').fill('QAutomation@gmail.com');
   47 |         });
   48 |
   49 |         await allure.step('Hacer click en input Contraseña de usuario', async () => {
   50 |             await page.locator('#Password').click();
   51 |         });
   52 |
   53 |         await allure.step('Escribir en input Contraseña de usuario', async () => {
   54 |             await page.locator('#Password').fill('O06DF3LJ');
   55 |         });
   56 |
   57 |         await allure.step('Hacer Click en ingresar', async () => {
   58 |             await page.locator('#submit').click();
   59 |         });
   60 |         
   61 |         await allure.step('espera de carga', async () => {
   62 |             await page.waitForTimeout(2000); // espera 2 segundos
   63 |         });
   64 |
   65 |         // await allure.step('hacer click para cambiar rol', async () => {
   66 |         //     const rolLink = page.getByRole('link', { name: /QAutomation Test \(/ }); // regex para tolerar variantes
   67 |         //     await rolLink.waitFor({ state: 'visible', timeout: 60000 });
   68 |         //     await expect(rolLink).toBeEnabled({ timeout: 60000 });
   69 |         //     await rolLink.click(); 
   70 |         // });
   71 |     
   72 |         // await allure.step('hacer click para desplegar lista de roles', async () => {
   73 |         //     const showAllBtn = page.getByTitle('Show All Items');
   74 |         //     await showAllBtn.waitFor({ state: 'visible', timeout: 60000 });
   75 |         //     await expect(showAllBtn).toBeEnabled({ timeout: 60000 });
   76 |         //     await showAllBtn.click();
   77 |         // });
   78 |
   79 |         // await allure.step('hacer click en rol NWAdmin - LAB QA', async () => {
   80 |         //     await page.getByText('NW Admin - LAB Network').click();
   81 |         // });
   82 |         
   83 |         await allure.step('Ingresar al modulo Banderas', async () => {
>  84 |             await page.getByRole('link', { name: 'Banderas', exact: true }).click();
      |                                                                             ^ TimeoutError: locator.click: Timeout 30000ms exceeded.
   85 |         });
   86 |
   87 |         await allure.step('verificar que estamos en la url de Banderas', async () => {
   88 |             await expect(page).toHaveURL('https://console.ationet.com/Brands');
   89 |         });    
   90 |     }); 
   91 |
   92 |     await allure.step('Crear nueva Bandera',async () => {
   93 |
   94 |         await allure.step('Click en boton Nuevo',async () => {
   95 |             await page.getByRole('button', { name: 'Nuevo' }).first().click();
   96 |         });
   97 |
   98 |         await allure.step('veriricar que estamos en enlase de crear banderas',async () => {
   99 |             await expect(page).toHaveURL('https://console.ationet.com/Brands/Create');
  100 |         });
  101 |
  102 |         await allure.step('Click en input nombre de Bandera',async () => {
  103 |             await page.locator('#BrandDto_Name').click();
  104 |         });
  105 |
  106 |         await allure.step('Escribir en input nombre de Bandera',async () => {
  107 |             await page.locator('#BrandDto_Name').fill(banderaName);
  108 |         });
  109 |
  110 |         await allure.step('Desplegar lista y seleccionar combustible maestro',async () => {
  111 |             await page.locator('#fuelMaster').selectOption({ label: 'Compressed Natural Gas' });
  112 |         });
  113 |
  114 |         await allure.step('Click en input nombre de combustible',async () => {
  115 |             await page.locator('#name').click();
  116 |         });
  117 |
  118 |         await allure.step('Escribir en input nombre de combustible',async () => {
  119 |             await page.locator('#name').fill(banderaFuelName);
  120 |         });
  121 |
  122 |         await allure.step('Click en boton Alta',async () => {
  123 |             await page.getByText('Alta').click();
  124 |         });
  125 |
  126 |         await allure.step('Click en boton Guardar',async () => {
  127 |             await page.locator('#save').click();
  128 |         });
  129 |     });
  130 |
  131 |     await allure.step('Filtrar nueva Bandera',async () => {
  132 |         await allure.step('verificar que la banderas se haya creado',async () => {
  133 |             await expect(page.getByRole('cell', { name: banderaName, exact: true })).toBeVisible();
  134 |         });       
  135 |     });
  136 |
  137 |     await allure.step('Editar nueva Bandera',async () => {
  138 |
  139 |         await allure.step('ingresar a editar banderas',async () => {
  140 |             await page.getByRole('link', { name: 'Editar' }).first().click();
  141 |         });
  142 |
  143 |         await allure.step('Click en input nombre de Bandera',async () => {
  144 |             await page.locator('#BrandDto_Name').click();
  145 |         });
  146 |
  147 |         await allure.step('Escribir en input nombre de Bandera',async () => {
  148 |             await page.locator('#BrandDto_Name').fill(banderaName + 'editado');
  149 |         });
  150 |
  151 |         await allure.step('Click en boton Guardar',async () => {
  152 |             await page.locator('#save').click();
  153 |         });
  154 |
  155 |     });
  156 |
  157 |     await allure.step('Filtrar nueva Bandera editada',async () => {
  158 |         await allure.step('Verificar que se haya editado',async () => {
  159 |             await expect(page.getByRole('cell', { name: banderaName + 'editado', exact: true })).toBeVisible();
  160 |         });
  161 |     });
  162 | })
  163 |
```