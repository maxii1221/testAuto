# Test info

- Name: Comercios
- Location: /home/maxii1221/testAuto/tests/LAB Network/NWAdmin/administracion/comercios.spec.ts:4:5

# Error details

```
TimeoutError: page.click: Timeout 30000ms exceeded.
Call log:
  - waiting for locator('a[href="/Merchants"]')
    - waiting for" https://sts.ationet.com/connect/authorize?client_id=Ationet&redirect_uri=https%3a%2f%2fconsole.ationet.com%2f&response_mode=form_post&response_type=code+id_token&scope=openid+profile+email+offline_ac…" navigation to finish...
    - navigated to "https://sts.ationet.com/connect/authorize?client_id=Ationet&redirect_uri=https%3a%2f%2fconsole.ationet.com%2f&response_mode=form_post&response_type=code+id_token&scope=openid+profile+email+offline_ac…"
    - waiting for" https://console.ationet.com/" navigation to finish...
    - navigated to "https://console.ationet.com/"

    at body (/home/maxii1221/testAuto/tests/LAB Network/NWAdmin/administracion/comercios.spec.ts:83:24)
    at body (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:113:48)
    at call (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:13:56)
    at tryCatch (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator._invoke (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator.next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at asyncGeneratorStep (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at _next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at call (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:13:23)
    at tryCatch (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator._invoke (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator.next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at asyncGeneratorStep (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at _next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at AllurePlaywrightTestRuntime.apply (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at AllurePlaywrightTestRuntime.step (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:14:4)
    at callRuntimeMethod (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:21:27)
    at Object.step (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:113:10)
    at Object.step (/home/maxii1221/testAuto/node_modules/allure-playwright/src/legacy.ts:147:48)
    at /home/maxii1221/testAuto/tests/LAB Network/NWAdmin/administracion/comercios.spec.ts:82:22
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 | import { allure } from 'allure-playwright';
   3 |
   4 | test('Comercios', async ({ page }, testInfo) => {
   5 |     //varibles:
   6 |     const urlBETA = testInfo.project.use?.baseURL; 
   7 |
   8 |     // Allure metadata
   9 |
   10 |     //esto aparece en suite para ordenar mejor
   11 |     allure.suite('NWAdmin');
   12 |     allure.subSuite('Administracion');
   13 |
   14 |     //usuario que ejecuto la automatizacion
   15 |     allure.owner('Maximiliano');
   16 |     allure.tag('regression');
   17 |
   18 |     //label para funcionalidades allure
   19 |     allure.label('epic', 'NWAdmin - Administracion');
   20 |     allure.label('feature', 'Comercios');
   21 |     allure.story('Navegar, crear y Editar');
   22 |
   23 |     //dentro del test cuando lo abrimos aparece la descripcion
   24 |     allure.description(`
   25 |     Objetivo: Este test automatiza el proceso de navegacion, creacion y edicion de Comercios.
   26 |     `);
   27 |     allure.severity('critical'); // opciones: blocker | critical | normal | minor | trivial         
   28 |
   29 |     // Generar un valor aleatorio para cada campo
   30 |     const randomId = Math.floor(Math.random() * 10000000);
   31 |     const idContribuyenteComercio = `${randomId}`;
   32 |     const nameComercio= `$Comercio${randomId}`;
   33 |     const codeComercio= `${randomId}`;
   34 |
   35 |     await allure.step('Navegar y acceder a Comercio',async () => {
   36 |         await allure.step('Acceder a la url de login', async () => {
   37 |             await page.goto(urlBETA!);
   38 |         });
   39 |
   40 |         await allure.step('Hacer click en input nombre de usuario', async () => {
   41 |             await page.locator('#UserName').click();
   42 |         });
   43 |
   44 |         await allure.step('Escribir en input nombre de usuario', async () => {
   45 |             await page.locator('#UserName').fill('QAutomation@gmail.com');
   46 |         });
   47 |
   48 |         await allure.step('Hacer click en input Contraseña de usuario', async () => {
   49 |             await page.locator('#Password').click();
   50 |         });
   51 |
   52 |         await allure.step('Escribir en input Contraseña de usuario', async () => {
   53 |             await page.locator('#Password').fill('O06DF3LJ');
   54 |         });
   55 |
   56 |         await allure.step('Hacer Click en ingresar', async () => {
   57 |             await page.locator('#submit').click();
   58 |         });
   59 |         
   60 |         await allure.step('espera de carga', async () => {
   61 |             await page.waitForTimeout(2000); // espera 2 segundos
   62 |         });
   63 |
   64 |         // await allure.step('hacer click para cambiar rol', async () => {
   65 |         //     const rolLink = page.getByRole('link', { name: /QAutomation Test \(/ }); // regex para tolerar variantes
   66 |         //     await rolLink.waitFor({ state: 'visible', timeout: 60000 });
   67 |         //     await expect(rolLink).toBeEnabled({ timeout: 60000 });
   68 |         //     await rolLink.click(); 
   69 |         // });
   70 |     
   71 |         // await allure.step('hacer click para desplegar lista de roles', async () => {
   72 |         //     const showAllBtn = page.getByTitle('Show All Items');
   73 |         //     await showAllBtn.waitFor({ state: 'visible', timeout: 60000 });
   74 |         //     await expect(showAllBtn).toBeEnabled({ timeout: 60000 });
   75 |         //     await showAllBtn.click();
   76 |         // });
   77 |
   78 |         // await allure.step('hacer click en rol NWAdmin - LAB QA', async () => {
   79 |         //     await page.getByText('NW Admin - LAB Network').click();
   80 |         // });
   81 |
   82 |         await allure.step('acceder a modulo comercio', async () => {
>  83 |             await page.click('a[href="/Merchants"]');
      |                        ^ TimeoutError: page.click: Timeout 30000ms exceeded.
   84 |         });
   85 |
   86 |         await allure.step('veriricar que estamos en la url de comercio', async () => {
   87 |             await expect(page).toHaveURL('https://console.ationet.com/Merchants');
   88 |         });    
   89 |     });
   90 |
   91 |     await allure.step('Crear nuevo Comercio',async () => {
   92 |
   93 |         await allure.step('acceder a crear comercio',async () => {
   94 |             await page.getByRole('button', { name: 'Nuevo' }).first().click();
   95 |         });
   96 |
   97 |         await allure.step('veriricar que estamos en enlase de crear comercio',async () => {
   98 |             await expect(page).toHaveURL('https://console.ationet.com/Merchants/Create');
   99 |         });
  100 |
  101 |         await allure.step('Click en input id de contribuyente',async () => {
  102 |             await page.locator('#Merchant_TaxPayerId').click();
  103 |         });
  104 |
  105 |         await allure.step('Escribir en input id de contribuyente',async () => {
  106 |             await page.locator('#Merchant_TaxPayerId').fill(idContribuyenteComercio);
  107 |         });
  108 |
  109 |         await allure.step('Click en input nombre de comercio',async () => {
  110 |             await page.locator('#Merchant_Name').click();
  111 |         });
  112 |
  113 |         await allure.step('Escribir en input nombre de comercio',async () => {
  114 |             await page.locator('#Merchant_Name').fill(nameComercio);
  115 |         });
  116 |
  117 |         await allure.step('Click en input codigo de comercio',async () => {
  118 |             await page.locator('#NetworksMerchant_MerchantCode').click();
  119 |         });
  120 |
  121 |         await allure.step('Escribir en input codigo de comercio',async () => {
  122 |             await page.locator('#NetworksMerchant_MerchantCode').fill(codeComercio);
  123 |         });
  124 |
  125 |         await allure.step('Click en input calle de comercio',async () => {
  126 |             await page.locator('#Merchant_Street1').click();
  127 |         });
  128 |
  129 |         await allure.step('Escribir en input calle de comercio',async () => {
  130 |             await page.locator('#Merchant_Street1').fill('chacabubo661');
  131 |         });
  132 |
  133 |         await allure.step('Click en input ciudad de comercio',async () => {
  134 |             await page.locator('#Merchant_City').click();
  135 |         });
  136 |
  137 |         await allure.step('Escribir en input ciudad de comercio',async () => {
  138 |             await page.locator('#Merchant_City').fill('san isidro');
  139 |         });
  140 |
  141 |         await allure.step('Desplegar lista y seleccionar pais de comercio',async () => {
  142 |             await page.locator('#IdCountry').selectOption({ label: 'Argentina' });
  143 |         });
  144 |
  145 |         await allure.step('Desplegar lista y seleccionar Estado de comercio',async () => {
  146 |             await page.locator('#IdState').selectOption({ label: 'Buenos Aires' });
  147 |         });
  148 |
  149 |         await allure.step('Click en input nombre de contacto del comercio',async () => {
  150 |             await page.locator('#NetworksMerchant_ContactName').click();
  151 |         });
  152 |
  153 |         await allure.step('Escribir en input nombre de contacto del comercio',async () => {
  154 |             await page.locator('#NetworksMerchant_ContactName').fill('soy una prueba');
  155 |         });
  156 |
  157 |         await allure.step('Click en input correo de contacto del comercio',async () => {
  158 |             await page.locator('#NetworksMerchant_ContactEmail').click();
  159 |         });
  160 |
  161 |         await allure.step('Escribir en input correo de contacto del comercio',async () => {
  162 |             await page.locator('#NetworksMerchant_ContactEmail').fill('pruebitaauto@ationinc.com');
  163 |         });
  164 |
  165 |         await allure.step('Click en input Telefono 1 de contacto del comercio',async () => {
  166 |             await page.locator('#NetworksMerchant_PhoneNumber1').click();
  167 |         });
  168 |
  169 |         await allure.step('Escribir en input Telefono 1 de contacto del comercio',async () => {
  170 |             await page.locator('#NetworksMerchant_PhoneNumber1').fill('1122445577');
  171 |         });
  172 |
  173 |         await allure.step('Click en boton guardar',async () => {
  174 |             await page.locator('#save').click();
  175 |         });        
  176 |     });
  177 |
  178 |     await allure.step('Filtrar nuevo Comercio',async () => {
  179 |         await allure.step('Aseguramos que el panel de filtro esté presente',async () => {
  180 |             await page.locator('#filterPanel').waitFor({ state: 'visible', timeout: 60000 });
  181 |         });
  182 |
  183 |         await allure.step('Click en el título filtro, no en todo el panel',async () => {
```