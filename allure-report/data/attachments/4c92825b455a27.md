# Test info

- Name: Transacciones Rechazadas
- Location: /home/maxii1221/testAuto/tests/Atio lab Flota/NWCompany/flota/transaccionesRechazadas.spec.ts:5:5

# Error details

```
TimeoutError: locator.click: Timeout 30000ms exceeded.
Call log:
  - waiting for getByRole('button', { name: 'Ok' })
    - locator resolved to <button id="ok" type="submit" role="button" aria-disabled="false" onclick="location.href = document.referrer.replace('?response=OK','');" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only">…</button>
  - attempting click action
    - waiting for element to be visible, enabled and stable
    - element is visible, enabled and stable
    - scrolling into view if needed
    - done scrolling
    - performing click action
    - click action done
    - waiting for scheduled navigations to finish

    at body (/home/maxii1221/testAuto/tests/Atio lab Flota/NWCompany/flota/transaccionesRechazadas.spec.ts:107:60)
    at body (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:113:48)
    at call (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:13:56)
    at tryCatch (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator._invoke (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator.next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at asyncGeneratorStep (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at _next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at call (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:13:23)
    at tryCatch (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator._invoke (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at Generator.next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at asyncGeneratorStep (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at _next (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at /home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1
    at AllurePlaywrightTestRuntime.apply (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:2:1)
    at AllurePlaywrightTestRuntime.step (/home/maxii1221/testAuto/node_modules/allure-playwright/src/runtime.ts:14:4)
    at callRuntimeMethod (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:21:27)
    at Object.step (/home/maxii1221/testAuto/node_modules/allure-js-commons/src/facade.ts:113:10)
    at Object.step (/home/maxii1221/testAuto/node_modules/allure-playwright/src/legacy.ts:147:48)
    at /home/maxii1221/testAuto/tests/Atio lab Flota/NWCompany/flota/transaccionesRechazadas.spec.ts:106:22
```

# Test source

```ts
   7 |     const urlBETA = testInfo.project.use?.baseURL; 
   8 |
   9 |     // Allure metadata
   10 |
   11 |     //esto aparece en suite para ordenar mejor
   12 |     allure.suite('NWCompany');
   13 |     allure.subSuite('Flota');
   14 |
   15 |     //usuario que ejecuto la automatizacion
   16 |     allure.owner('Maximiliano');
   17 |     allure.tag('regression');
   18 |
   19 |     //label para funcionalidades allure
   20 |     allure.label('epic', 'NWCompany - Flota');
   21 |     allure.label('feature', 'Transacciones Rechazadas');
   22 |     allure.story('Navegar y Ver detalles');
   23 |
   24 |     //dentro del test cuando lo abrimos aparece la descripcion
   25 |     allure.description(`
   26 |     Objetivo: Este test automatiza el proceso de navegacion, y ver detalles en Transacciones Rechazaras.
   27 |     `);
   28 |     allure.severity('critical'); // opciones: blocker | critical | normal | minor | trivial  
   29 |
   30 |     await allure.step('Navegar y acceder a Transacciones Rechazadas',async () => {
   31 |         await allure.step('Acceder a la url de login', async () => {
   32 |             await page.goto(urlBETA!);
   33 |         });
   34 |
   35 |         await allure.step('Hacer click en input nombre de usuario', async () => {
   36 |             await page.locator('#UserName').click();
   37 |         });
   38 |
   39 |         await allure.step('Escribir en input nombre de usuario', async () => {
   40 |             await page.locator('#UserName').fill('QAutomation2@gmail.com');
   41 |         });
   42 |
   43 |         await allure.step('Hacer click en input Contraseña de usuario', async () => {
   44 |             await page.locator('#Password').click();
   45 |         });
   46 |
   47 |         await allure.step('Escribir en input Contraseña de usuario', async () => {
   48 |             await page.locator('#Password').fill('N9VOSBIA');
   49 |         });
   50 |
   51 |         await allure.step('Hacer Click en ingresar', async () => {
   52 |             await page.locator('#submit').click();
   53 |         });
   54 |         
   55 |         await allure.step('espera de carga', async () => {
   56 |             await page.waitForTimeout(2000); // espera 2 segundos
   57 |         });
   58 |
   59 |         // await allure.step('hacer click para cambiar rol', async () => {
   60 |         //     const rolLink = page.getByRole('link', { name: /QAutomation Test \(/ }); // regex para tolerar variantes
   61 |         //     await rolLink.waitFor({ state: 'visible', timeout: 60000 });
   62 |         //     await expect(rolLink).toBeEnabled({ timeout: 60000 });
   63 |         //     await rolLink.click(); 
   64 |         // });
   65 |     
   66 |         // await allure.step('hacer click para desplegar lista de roles', async () => {
   67 |         //     const showAllBtn = page.getByTitle('Show All Items');
   68 |         //     await showAllBtn.waitFor({ state: 'visible', timeout: 60000 });
   69 |         //     await expect(showAllBtn).toBeEnabled({ timeout: 60000 });
   70 |         //     await showAllBtn.click();
   71 |         // });
   72 |
   73 |         // await allure.step('hacer click en rol NW Company - Atio Lab Flota', async () => {
   74 |         //     await page.getByText('NW Company Admin - Atio Lab').click();
   75 |         // });
   76 |
   77 |         // await allure.step('acceder a modulo Transacciones Rechazadas', async () => {
   78 |         //     await page.click('a[href="/TransactionsRejected"]');
   79 |         // });
   80 |
   81 |         await allure.step('acceder a modulo Transacciones rechazadas', async () => {
   82 |             await page.goto('https://console.ationet.com/TransactionsRejected');
   83 |         });
   84 |
   85 |         await allure.step('espera de carga', async () => {
   86 |             await page.waitForTimeout(2000); // espera 2 segundos
   87 |         });
   88 |
   89 |         // await allure.step('veriricar que estamos en la url de Transacciones Rechazadas', async () => {
   90 |         //     await expect(page).toHaveURL('https://console.ationet.com/TransactionsRejected');
   91 |         // });    
   92 |     });    
   93 |
   94 |     await allure.step('Ingresar al detalle de transaccion rechazadas' , async () => {
   95 |
   96 |         await allure.step('Click para ingresar a detalle de transaccion rechazadas' , async () => {
   97 |             await page.locator('tbody tr td:nth-child(3) a').first().click();
   98 |         });
   99 |
  100 |
  101 |         await allure.step('espera de carga', async () => {
  102 |             await page.waitForTimeout(2000); // espera 2 segundos
  103 |         });
  104 |
  105 |
  106 |         await allure.step('Click en boton ok' , async () => {
> 107 |             await page.getByRole('button', { name: 'Ok' }).click();
      |                                                            ^ TimeoutError: locator.click: Timeout 30000ms exceeded.
  108 |         });
  109 |
  110 |         // await allure.step('Verificamos que volvimos a la url de transacciones rechazadas' , async () => {
  111 |         //     await expect(page).toHaveURL('https://console.ationet.com/TransactionsRejected');
  112 |         // });
  113 |     });
  114 |
  115 | })
```